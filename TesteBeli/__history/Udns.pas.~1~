unit Udns;

interface

uses
  Windows, Messages, SysUtils, Variants, Classes, Graphics, Controls, Forms,
  Dialogs, StdCtrls, IdBaseComponent, IdComponent, IdTCPConnection,
  IdDNSResolver, IdTCPClient, IdWhois;

type
  TForm1 = class(TForm)
    IdDNSResolver1: TIdDNSResolver;
    Button1: TButton;
    Memo1: TMemo;
    IdWhois1: TIdWhois;
    Memo2: TMemo;
    procedure Button1Click(Sender: TObject);
  private
    { Private declarations }
  public
    { Public declarations }
  end;

var
  Form1: TForm1;

implementation

{$R *.dfm}

procedure TForm1.Button1Click(Sender: TObject);
var
Teste : integer;
begin

//202.102.14.141
// 203.156.77.91.in-addr.arpa


//94.51.11.232


IdDNSResolver1.Disconnect;

try

//IdDNSResolver1.Resolve('abreuretto.com');

IdDNSResolver1.Resolve('232.11.51.94.bl.spamcop.net');


except
on E: Exception do
      Memo1.Lines.Add(E.Message);
end;

teste := IdDNSResolver1.QueryResult.count;

memo1.lines.add(inttostr(teste));



//IdWhois1.Connect;
memo2.Lines.Text := IdWhois1.WhoIs('69.64.64.125');
IdWhois1.Disconnect;

end;

end.
